version: '3.7'

services:
  council-daemon:
    image: lidofinance/lido-council-daemon@sha256:f7c6c68eb6044fe747d094e4bd6256c6c88ac54029bd1a9b85e6f8f7c1586874
    ports:
      - "3000:3000" # port is used for prometheus metrics
    environment:
      - "PORT=3000"
      - "LOG_LEVEL=debug"
      - "LOG_FORMAT=simple"
      - "RPC_URL=<rpc url>"
      - "KAFKA_SSL=true"
      - "KAFKA_SASL_MECHANISM=plain"
      - "KAFKA_USERNAME=<kafka user>"
      - "KAFKA_PASSWORD=<kafka password>"
      - "KAFKA_BROKER_ADDRESS_1=<kafka address>"
      - "KAFKA_TOPIC=defender"
      - "WALLET_PRIVATE_KEY"

    # volumes can be omitted if needed
    volumes:
      - ./.volumes/cache/:/council/cache/

